{"version":3,"sources":["Redux/users-reducer.js","Components/img/user.png","Components/api/api.js","Components/Profile/Profile.module.css","Components/Common/Preloader/Preloader.module.css","Components/News/News.module.css","Components/Settings/Settings.module.css","Components/NavBar/NavBar.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Dialogs/Dialogs.module.css","serviceWorker.js","Redux/profile-reducer.js","Redux/dialogs-reducer.js","Redux/sideBar-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","Components/Header/Header.js","Components/Header/HeaderContainer.js","Components/NavBar/NavBar.js","Components/Profile/ProfileInfo/StatusProfileHooks.jsx","Components/Common/FormsControls/FormsControls.js","Components/Profile/ProfileInfo/ContactsForm.jsx","Components/Profile/ProfileInfo/ProfileInfo.js","Components/Profile/MyPosts/Post/Post.js","Components/utils/validator.js","Components/Profile/MyPosts/MyPosts.js","Components/Profile/MyPosts/MyPostsContainer.js","Components/Profile/Profile.js","Components/News/News.js","Components/Settings/Settings.js","Components/Dialogs/DialogItem/DialogItem.js","Components/Dialogs/Message/Message.js","Components/Dialogs/Dialogs.js","Components/hoc/withAuthRedirect.jsx","Components/Dialogs/DialogsContainer.js","Components/Login/login.jsx","Components/hoc/withSuspense.jsx","App.js","index.js","Components/Common/FormsControls/renderedField.module.css","Components/Common/Preloader/preloader.jsx","Components/Header/Header.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css"],"names":["initialState","users","currentPage","totalUsersCount","pageSize","loading","usersIdfollowingProgress","setCurrentPage","pageNumber","type","isFetching","followingInProgres","userFollowingProgressId","getUsers","dispatch","a","usersAPI","response","totalUsers","data","totalCount","items","unfollow","userId","deleteUsers","then","resultCode","unfollowSuccess","follow","postUsers","followSuccess","usersReducer","state","action","map","u","id","followed","filter","uId","module","exports","instance","axios","withCredentials","baseURL","headers","size","get","delete","post","getProfile","console","warn","profileAPI","authMe","authAPI","logIn","email","password","rememberMe","captcha","logOut","getCaptcha","getStatus","updateStatus","status","put","updateImage","file","formData","FormData","append","saveContacts","value","Boolean","window","location","hostname","match","postData","message","likesCount","profile","setUserProfile","profileReducer","Date","now","newPostText","i","postId","photos","dialogsData","name","messagesData","dialogsReducer","newMessage","newMessageBody","sideBarReducer","login","isAuth","captchaURL","setAuthMeData","setAuthUserData","getCaptchaURL","url","authReducer","initial","initialized","unhandledError","appReducer","textError","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","props","className","s","header","alt","txt","loginBlock","onClick","logout","to","HeaderContainer","this","React","Component","connect","NavBar","navbar","itemMenu","item","activeClassName","active","StatusProfileHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onBlur","autoFocus","onChange","e","currentTarget","FormControl","meta","touched","error","formControl","label","children","Textarea","input","restProps","placeholder","Input","required","undefined","textareaField","radiobuttonField","inputField","reduxForm","contacts","handleSubmit","lookingForAJob","aboutMe","onSubmit","contactForm","Field","validate","component","Object","keys","key","Contacts","fullName","edit","ProfileInfo","src","large","userPhoto","isOwner","target","files","length","setImageProfile","initialValues","setContacts","Post","ava","maxLengthCreator","maxLength","maxLength10","PostReduxForm","btn","MyPosts","postElements","reverse","profileblock","addPostAC","posts","MyPostsContainer","Profilecontainer","params","authorizedUserId","history","push","refreshProfile","prevProps","objectForMapDispatch","updateMyStatus","getState","messages","stopSubmit","_error","Promise","reject","withRouter","News","Settings","DialogItem","dialog","Message","maxLength15","AddMessageFormRedux","textarea","sendMessage","Dialogs","dialogsElement","messagesElements","dialogs","dialogsItems","sendMessageBlock","sendMessageAC","mapStateToProps","withAuthRedirect","RedirectComponent","LoginReduxForm","htmlFor","commonErrorLoginForm","withSuspense","fallback","UsersContainerConnect","lazy","App","catchAllUnhandledErrors","unhandledErrorThunk","reason","initApp","addEventListener","removeEventListener","path","render","Profile","DialogsContainer","promise","all","onErrorAC","setTimeout","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","Preloader","ldsRing"],"mappings":"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","file":"static/js/main.1a5365fa.chunk.js","sourcesContent":["import {usersAPI} from '../Components/api/api'\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst IS_FETCHING = 'IS_FETCHING';\r\nconst FOLLOWING_PROGRESS = 'FOLLOWING_PROGRESS';\r\n\r\n//at first our state will be empty and we get respons from server and after that it will\r\n//be set this state\r\nlet initialState = {\r\n    users: [ ],\r\n    currentPage: 1,\r\n    totalUsersCount: 0,\r\n    pageSize: 15,\r\n    loading: false,\r\n    usersIdfollowingProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsers\r\n            };\r\n        case IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                loading: action.loading\r\n            };\r\n            case FOLLOWING_PROGRESS:\r\n                return {\r\n                    ...state,\r\n                    usersIdfollowingProgress: action.isFetching\r\n                    ? [...state.usersIdfollowingProgress, action.userFollowingProgressId]\r\n                    : state.usersIdfollowingProgress.filter(uId => uId !== action.userFollowingProgressId)\r\n                }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n};\r\n\r\n//Action Creators\r\n\r\nconst followSuccess = (userId) => ({type: FOLLOW, userId});\r\nconst unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\r\nconst setTotalUsersCount = (totalUsers) => ({type: SET_TOTAL_USERS_COUNT, totalUsers});\r\nconst isFetching = (loading) => ({type: IS_FETCHING, loading});\r\nconst followingInProgres = (userFollowingProgressId, isFetching) => ({type: FOLLOWING_PROGRESS,\r\n     userFollowingProgressId, isFetching});\r\n\r\n//Thunk\r\n\r\nexport const getUsers = (pageNumber, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(isFetching(true));\r\n        dispatch(setCurrentPage(pageNumber));\r\n           let response = await usersAPI.getUsers(pageNumber, pageSize);\r\n            \r\n                    dispatch(isFetching(false));\r\n                    dispatch(setTotalUsersCount(response.data.totalCount));\r\n                    dispatch(setUsers(response.data.items));\r\n                \r\n    }     \r\n};\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(followingInProgres(userId, true));\r\n        usersAPI.deleteUsers(userId).then((response) => {\r\n            dispatch(followingInProgres(userId, false));\r\n          if (response.data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId));\r\n          }\r\n        });\r\n      }\r\n    };\r\n    export const follow = (userId) => {\r\n        return (dispatch) => {\r\n            dispatch(followingInProgres(userId, true));\r\n          usersAPI.postUsers(userId).then((response) => {\r\n            dispatch(followingInProgres(userId, false));\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(followSuccess(userId));\r\n            }\r\n          });\r\n          }\r\n        };\r\n\r\nexport default usersReducer;","module.exports = \"data:image/png;base64,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\"","import * as axios from 'axios';\r\n\r\n// axios.create\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  headers: {\r\n    'API-KEY': '16b61340-e1d0-42ea-b3ed-4d908888b3c3',\r\n  },\r\n});\r\n\r\n// Users\r\nexport const usersAPI = {\r\n  getUsers(currentPage, size) {\r\n    return instance.get(`users?page=${currentPage}&count=${size}`);\r\n  },\r\n  deleteUsers(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n  postUsers(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('Obsolete method. Please, use profileAPI.getProfile');\r\n    return profileAPI.getProfile(userId);\r\n  },\r\n  authMe() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n};\r\n\r\n// Auth\r\nexport const authAPI = {\r\n  authMe() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  logIn(email, password, rememberMe, captcha = null) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha });\r\n  },\r\n  logOut() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n  getCaptcha() {\r\n    return instance.get(`/security/get-captcha-url`);\r\n  }\r\n};\r\n\r\n// Profile\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    //users`s status\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    //my status, id is in the cookie\r\n    return instance.put(`profile/status/`, {\r\n      status: status,\r\n    });\r\n  },\r\n  updateImage(file) {\r\n    const formData = new FormData();\r\n    // see API-Doc: image\r\n    formData.append('image', file);\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  saveContacts(value) {\r\n    return instance.put('profile', value)\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1lLBi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRing\":\"Preloader_ldsRing__sPjXh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"News_item__3BIkM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Settings_item__3a7kr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__AQLZB\",\"itemMenu\":\"NavBar_itemMenu__xvkU9\",\"active\":\"NavBar_active__lyEj4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__2euYl\",\"status\":\"ProfileInfo_status__1oQaa\",\"contactForm\":\"ProfileInfo_contactForm__q-n79\",\"error\":\"ProfileInfo_error__3ObK3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2NO6n\",\"dialogsItems\":\"Dialogs_dialogsItems__4Huw3\",\"messages\":\"Dialogs_messages__1SFLr\",\"dialog\":\"Dialogs_dialog__30Fg2\",\"textarea\":\"Dialogs_textarea__1RD2T\",\"sendMessage\":\"Dialogs_sendMessage__1f5M9\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Components is cached for offline use.\" message.\r\n              console.log('Components is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { stopSubmit } from 'redux-form';\r\nimport { usersAPI, profileAPI } from '../Components/api/api';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst UPDATE_MY_STATUS = 'UPDATE_MY_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst UPDATE_MY_IMAGE = 'UPDATE_MY_IMAGE';\r\n//const SET_CONTACTS_DATA = 'SET_CONTACTS_DATA';\r\n\r\nlet initialState = {\r\n  // app\r\n  postData: [\r\n    { id: 1, message: 'How are you?', likesCount: '12' },\r\n    { id: 2, message: 'See you!', likesCount: '8' },\r\n    { id: 3, message: 'Hello!', likesCount: '1' },\r\n  ],\r\n  // back\r\n  profile: null,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        postData: [\r\n          ...state.postData,\r\n          { id: Date.now(), message: action.newPostText, likesCount: 0 },\r\n        ],\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        postData: state.postData.filter((i) => i.id !== action.postId),\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    case UPDATE_MY_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    case UPDATE_MY_IMAGE:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// AC\r\nexport const addPostAC = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const deletePostAC = (postId) => ({ type: DELETE_POST, postId });\r\n\r\nconst setUserProfileData = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nconst setProfileStatus = (status) => ({ type: SET_STATUS, status });\r\nconst updateMyStatus = (status) => ({ type: UPDATE_MY_STATUS, status });\r\nconst setImageProfileSuccess = (photos) => ({ type: UPDATE_MY_IMAGE, photos });\r\n//const setContatcsAC = (contactsData) => ({type: SET_CONTACTS_DATA, contactsData})\r\n\r\n// Thunk\r\nexport const setUserProfile = (userId) => {\r\n  return (dispatch) => {\r\n    usersAPI.getProfile(userId).then((response) => {\r\n      dispatch(setUserProfileData(response.data));\r\n    });\r\n  };\r\n};\r\n\r\nexport const setStatus = (userId) => {\r\n  return (dispatch) => {\r\n    profileAPI.getStatus(userId).then((response) => {\r\n      dispatch(setProfileStatus(response.data));\r\n    });\r\n  };\r\n};\r\nexport const updateStatus = (status) => {\r\n  return (dispatch) => {\r\n    profileAPI.updateStatus(status).then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(updateMyStatus(status));\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const setImageProfile = (file) => (dispatch) => {\r\n  //dispatch(updateImageAC(file))\r\n  profileAPI.updateImage(file).then((response) => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setImageProfileSuccess(response.data.data.photos));\r\n    }\r\n  });\r\n};\r\n\r\nexport const setContacts = (value) => (dispatch, getState) => {\r\nconst userId = getState().auth.id\r\n\r\n  return profileAPI.saveContacts(value).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserProfile(userId))\r\n    } else {\r\n      let message = response.data.messages.length > 0\r\n      ? response.data.messages[0]\r\n      : 'Some error'\r\n      dispatch(stopSubmit('contacts', {_error: message}))\r\n      return Promise.reject()\r\n    }\r\n  })\r\n}\r\nexport default profileReducer;\r\n","const SEND_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogsData: [\r\n    { id: 1, name: 'Luba' },\r\n    { id: 2, name: 'Olga' },\r\n    { id: 3, name: 'Nicholas' },\r\n  ],\r\n  messagesData: [\r\n    { id: 1, message: 'Hi there!' },\r\n    { id: 2, message: 'How are you?' },\r\n    { id: 3, message: 'Hello everybody!' },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let newMessage = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messagesData: [\r\n          ...state.messagesData,\r\n          { id: Date.now(), message: newMessage },\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// AC\r\nexport const sendMessageAC = (newMessageBody) => ({\r\n  type: SEND_MESSAGE,\r\n  newMessageBody,\r\n});\r\n\r\nexport default dialogsReducer;\r\n","let initialState = {};\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default sideBarReducer;","import { stopSubmit } from 'redux-form';\r\nimport { usersAPI, authAPI } from '../Components/api/api';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst CAPTCHA_URL = 'CAPTCHA_URL';\r\n\r\nconst initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaURL: null\r\n};\r\n\r\n// REDUCER\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        //isAuth: true\r\n      };\r\n      case CAPTCHA_URL:\r\n        return {\r\n          ...state,\r\n          ...action.data\r\n        }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// AC\r\nconst setAuthMeData = (id, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  data: { id, email, login, isAuth },\r\n});\r\n\r\nconst captchaURLSuccess = (captchaURL) => ({type: CAPTCHA_URL, data: {captchaURL}})\r\n\r\n// THUNK\r\n//if I autorized give me my data: id, email, login \r\nexport const setAuthUserData = () => {\r\n  return (dispatch) => {\r\n    return authAPI.authMe().then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthMeData(id, email, login, true));\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n  return (dispatch) => {\r\n    authAPI.logIn(email, password, rememberMe, captcha).then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        authAPI.authMe().then((response) => {\r\n          if (response.data.resultCode === 0) {\r\n            let { id, email, login } = response.data.data;\r\n            dispatch(setAuthMeData(id, email, login, true));\r\n          }\r\n        });\r\n      } else {\r\n        if (response.data.resultCode === 10) {\r\n          dispatch(getCaptchaURL())\r\n        }\r\n        let message =\r\n          response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : 'Some error';\r\n        dispatch(stopSubmit('login', { _error: message }));\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    authAPI.logOut().then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setAuthMeData(null, null, null, false));\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const getCaptchaURL = () => async(dispatch) => {\r\n\r\n const response = await authAPI.getCaptcha()\r\n  \r\n  dispatch(captchaURLSuccess(response.data.url))\r\n\r\n}\r\n\r\nexport default authReducer;\r\n","import { setAuthUserData } from './auth-reducer';\r\nconst INIT_SUCCESS = 'INIT_SUCCESS';\r\nconst ON_ERROR = 'ON_ERROR';\r\nconst OFF_ERROR = 'OFF_ERROR';\r\n\r\nconst initial = {\r\n  initialized: false,\r\n  unhandledError: '',\r\n};\r\n\r\nconst appReducer = (state = initial, action) => {\r\n  switch (action.type) {\r\n    case INIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    case ON_ERROR:\r\n      return {\r\n        ...state,\r\n        unhandledError: action.textError\r\n      };\r\n      case OFF_ERROR:\r\n          return {\r\n              ...state,\r\n            unhandledError: null\r\n          }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initAC = () => ({ type: INIT_SUCCESS });\r\nconst onErrorAC = (textError) => ({ type: ON_ERROR, textError });\r\nconst offError = () => ({ type: OFF_ERROR });\r\n\r\n//\r\nexport const initApp = () => (dispatch) => {\r\n  let promise = dispatch(setAuthUserData());\r\n  Promise.all([promise]).then(() => dispatch(initAC()));\r\n};\r\n\r\nexport const unhandledErrorThunk = (textError) => (dispatch) => {\r\n  dispatch(onErrorAC(textError));\r\n  debugger\r\n  setTimeout(() => {\r\n    dispatch(offError());\r\n  }, 3000);\r\n};\r\n\r\nexport default appReducer;\r\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sideBarReducer from './sideBar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sideBarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n  ));\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    \r\n  return (\r\n    <div className={s.header}>\r\n      <img alt='logo'/>\r\n      <div className={s.txt}>Header</div>\r\n      <div className={s.loginBlock}>\r\n        <div>\r\n          {props.isAuth \r\n          ? <div>{props.login} - <button onClick={props.logout}>log out</button></div>\r\n          : <NavLink to='/login'> Login </NavLink>\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { setAuthUserData, logout } from '../../Redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setAuthUserData, logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport s from './NavBar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <div className={s.navbar}>\r\n\r\n            <div className={s.itemMenu}>\r\n\r\n                <div className={s.item}>\r\n                    <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n                </div>\r\n                <div>\r\n                    <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst StatusProfileHooks = (props) => {\r\n        \r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const updateStatus = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n        return <div>\r\n            <div>\r\n                {\r\n                    !editMode &&\r\n                    <span onDoubleClick={() => setEditMode(true)}\r\n                    className={s.status}>\r\n                    Status: {props.status}\r\n                    </span>\r\n                }\r\n            </div>\r\n            <div>\r\n                {\r\n                    editMode && \r\n                    <input \r\n                    onBlur={updateStatus}\r\n                    autoFocus={true} type=\"text\" \r\n                    onChange={(e) => setStatus(e.currentTarget.value)}\r\n                    value={status}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    }\r\n\r\nexport default StatusProfileHooks;","import React from 'react';\r\nimport s from './renderedField.module.css';\r\n\r\nexport const FormControl = ({ meta, ...props }) => {\r\n    return (\r\n        <div className={meta.touched && meta.error ? s.formControl : ''}>\r\n            {props.label && <label>{props.label}</label>}\r\n            {props.children}\r\n            <div>\r\n            {meta.touched && meta.error && \r\n            <span className={s.error}>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};   \r\n\r\nexport const Textarea = (props) => {\r\n    const {input, ...restProps} = props;\r\n    return (\r\n        <>\r\n        <FormControl {...props}>\r\n            <textarea {...input} placeholder={restProps.label} {...restProps}/>\r\n        </FormControl>\r\n        </>\r\n        \r\n    )\r\n};   \r\n\r\nexport const Input = (props) => {\r\n    const {input, type, restProps} = props;\r\n    return <>\r\n    <FormControl {...props}>\r\n            <input {...input} type={type} {...restProps}/>\r\n    </FormControl>\r\n    </>\r\n}","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport s from './ProfileInfo.module.css';\r\nimport { Textarea } from '../../Common/FormsControls/FormsControls';\r\n\r\n// Validate > reqiured\r\nconst required = (value) => {\r\n  return value ? undefined : 'Required';\r\n};\r\n\r\n// Component with Fields\r\nconst ContactsForm = (props) => {\r\n  const { contacts, lookingForAJob, aboutMe, handleSubmit, error, ...restProps } = props;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={s.contactForm}>\r\n        {\r\n        error && <div className={s.error}>\r\n            {error}\r\n            </div>\r\n            }\r\n        <Field\r\n          label='Full name: '\r\n          name='fullName'\r\n          validate={[required]}\r\n          component={inputField}\r\n          type='text'\r\n        />\r\n      <div>\r\n        <Field\r\n          label='About me: '\r\n          name='aboutMe'\r\n          validate={[required]}\r\n          component={textareaField}\r\n          type='text'\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Field\r\n          label='Looking for a job: '\r\n          name='lookingForAJob'\r\n          validate={[]}\r\n          component={radiobuttonField}\r\n          type='checkbox'\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          label='My skills: '\r\n          name='lookingForAJobDescription'\r\n          validate={[]}\r\n          component={textareaField}\r\n          type='text'\r\n        />\r\n      </div>\r\n\r\n      {\r\n        Object.keys(contacts).map((key) => {\r\n          return (\r\n            <div key={key}>\r\n              <Field\r\n                label={key}\r\n                name={'contacts.' + key}\r\n                validate={[]}\r\n                component={inputField}\r\n                type='text'\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n\r\n      <button type='submit'>Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\n// Validate textarea takes props from Field\r\nconst textareaField = ({ input, label, meta, type }) => {\r\n  return (\r\n    <div>\r\n      <label>{label}</label>\r\n      <div>\r\n        <textarea {...input} placeholder={label} type={type} />\r\n        {meta.touched && meta.error && (\r\n          <span className={s.error}>{meta.error}</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst radiobuttonField = ({ input, label, meta, type }) => {\r\n  return (\r\n    <div>\r\n      <label>{label}</label>\r\n      <div>\r\n        <input {...input} placeholder={label} type={type} />\r\n        {meta.touched && meta.error && (\r\n          <span className={s.error}>{meta.error}</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst inputField = ({ input, label, meta, type }) => {\r\n  return (\r\n    <div>\r\n      <label>{label}: </label>\r\n      <div>\r\n        <input {...input} placeholder={label} type={type} />\r\n        {meta.touched && meta.error && (\r\n          <span className={s.error}>{meta.error}</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default reduxForm({ form: 'contacts' })(ContactsForm);\r\n","import React, { useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from '../../Common/Preloader/preloader';\r\nimport StatusProfileHooks from './StatusProfileHooks';\r\nimport userPhoto from '../../img/user.png';\r\nimport ContactsForm from './ContactsForm';\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  const submit = (value) => {\r\n    props.setContacts(value).then(() => {\r\n      setEditMode(false)\r\n    })\r\n    \r\n  };\r\n\r\n  const chooseImage = (e) => {\r\n    if (e.target.files.length) {\r\n      props.setImageProfile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  if (!props.profile) {\r\n    return <Preloader loading={true} />;\r\n  } else {\r\n    return (\r\n      <div className={s.profile}>\r\n        <div>\r\n          <img src={props.profile.photos.large || userPhoto} alt='profile' />\r\n        </div>\r\n        <div>\r\n          {props.isOwner && <input type='file' onChange={chooseImage} />}\r\n        </div>\r\n\r\n        <div>\r\n          <p>Name: {props.profile.fullName}</p>\r\n        </div>\r\n        <StatusProfileHooks\r\n          status={props.status}\r\n          updateStatus={props.updateStatus}\r\n        />\r\n       {\r\n         editMode\r\n         ? <ContactsForm initialValues={props.profile} onSubmit={submit} {...props.profile} />\r\n         : <Contacts edit={() => setEditMode(true)} {...props.profile}/>\r\n       } \r\n       \r\n\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Contacts = (props) => {\r\n  const { contacts, lookingForAJob, fullName, aboutMe, edit, ...restProps } = props;\r\n\r\n  return (\r\n    <div  className={s.contactForm} >\r\n      <button onClick={edit}>Edit</button>\r\n      <div>\r\n     <b>Full name</b>: {fullName}\r\n      </div>\r\n      <div>\r\n      <b>aboutMe:</b> {aboutMe}\r\n      </div>\r\n      <div>\r\n      <b>lookingForAJob:</b> {lookingForAJob ? 'yes' : 'no'}\r\n      </div>\r\n      {contacts &&\r\n        Object.keys(contacts).map((key) => {\r\n          return <div key={key}><b>{key}:</b> {contacts[key]}</div>;\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport s from './Post.module.css'\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.ava}></div>\r\n            <div className={s.post}>\r\n                <p>{props.message}</p>\r\n            </div>\r\n            <div>\r\n                <button>like</button>\r\n                <span>{props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Post;","\r\n\r\nexport const required = value => !value ? 'Reqiured' : undefined;\r\n\r\nexport const maxLengthCreator = (maxLength) => (value)=> {\r\n return (value && value.length > maxLength \r\n    ? `Must be ${maxLength} characters or less` \r\n    : undefined);\r\n}; ","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {required, maxLengthCreator} from '../../utils/validator';\r\nimport { Textarea } from '../../Common/FormsControls/FormsControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = (props) => {\r\n\r\n  const submit = (formData) => {\r\n    props.addPostAC(formData.newPostText);\r\n  };\r\n\r\n  let postElements = [... props.postData].reverse().map((message) => (\r\n    <Post\r\n      message={message.message}\r\n      key={message.id}\r\n      likesCount={message.likesCount}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.profileblock}>\r\n        <h3>My Posts</h3>\r\n        <PostReduxForm onSubmit={submit} />\r\n      </div>\r\n      <div className={s.posts}>{postElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field name='newPostText' component={Textarea}\r\n      validate={[required, maxLength10]}/>\r\n      <div className={s.btn}>\r\n        <button>Add Post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst PostReduxForm = reduxForm({ form: 'myPost' })(PostForm);\r\n\r\nexport default MyPosts;\r\n","import {addPostAC} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postData: state.profilePage.postData\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPostAC})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  setUserProfile,\r\n  setStatus,\r\n  updateStatus,\r\n  setImageProfile,\r\n  setContacts\r\n} from '../../Redux/profile-reducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nclass Profilecontainer extends React.Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n    this.props.setUserProfile(userId);\r\n    this.props.setStatus(userId);\r\n  }\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.profile}>\r\n        <ProfileInfo\r\n          {...this.props}\r\n          isOwner={!this.props.match.params.userId}\r\n        />\r\n        <MyPostsContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authorizedUserId: state.auth.id,\r\n  };\r\n};\r\nconst objectForMapDispatch = {\r\n  setUserProfile,\r\n  setStatus,\r\n  updateStatus,\r\n  setImageProfile,\r\n  setContacts\r\n};\r\n\r\nexport default compose(\r\n  // withAuthRedirect,\r\n  withRouter,\r\n  connect(mapStateToProps, objectForMapDispatch)\r\n)(Profilecontainer);\r\n","import React from \"react\";\r\nimport s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n           News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from './Settings.module.css'\r\nconst Settings = () => {\r\n    return (\r\n        <div className={s.item}>\r\n           Settings\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst DialogItem  = (props) => {\r\n    return <div className={s.dialog}>\r\n        <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n    </div>\r\n};\r\n\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\n\r\n\r\nconst Message = (props) => {\r\n    return <div className={s.item}>{props.message}</div>\r\n};\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Textarea } from '../Common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../utils/validator';\r\n\r\nconst Dialogs = (props) => {\r\n\r\n  let state = props.dialogsPage;\r\n\r\n  const submit = (formData) => {\r\n    props.sendMessageAC(formData.newMessageBody);\r\n  };\r\n  //create elements on page\r\n  let dialogsElement = state.dialogsData.map((dialog) => (\r\n    <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} />\r\n  ));\r\n  let messagesElements = state.messagesData.map((message) => (\r\n    <Message key={message.id} message={message.message} />\r\n  ));\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElement}</div>\r\n      <div className={s.messages}>{messagesElements}</div>\r\n\r\n      <div className={s.sendMessageBlock}>\r\n        <AddMessageFormRedux onSubmit={submit} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n//maxLength      - \r\nconst maxLength15 = maxLengthCreator(15)\r\nconst AddMessageForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div className={s.textarea}>\r\n        <Field\r\n          name='newMessageBody'\r\n          component={Textarea}\r\n          validate={[required, maxLength15]}\r\n          label='Enter your message'\r\n        />\r\n      </div>\r\n      <div className={s.sendMessage}>\r\n        <button>Send Message</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({ form: 'dialogAddMessageForm' })(\r\n  AddMessageForm\r\n);\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n \r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nconst withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n};\r\n\r\nexport default withAuthRedirect;\r\n\r\n","import { sendMessageAC } from '../../Redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport withAuthRedirect from '../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  };\r\n};\r\n// let mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     sendMessage: (newMessageBody) =>\r\n//       dispatch(sendMessageAC(newMessageBody)),\r\n//   };\r\n// };\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {sendMessageAC}),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../Common/FormsControls/FormsControls';\r\nimport { required } from '../utils/validator';\r\nimport { login } from '../../Redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from '../Common/FormsControls/renderedField.module.css';\r\n\r\nconst Login = (props) => {\r\n  //debugger\r\n  const myHandleSubmit = (formData) => {\r\n    props.login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      {props.isAuth ? (\r\n        <Redirect to='/dialogs' />\r\n      ) : (\r\n        <div>\r\n          <h2>Login</h2>\r\n          <LoginReduxForm\r\n            onSubmit={myHandleSubmit}\r\n            captchaURL={props.captchaURL}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginForm = (props) => {\r\n  \r\n // debugger\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <label htmlFor='email'>login:</label>\r\n        <Field\r\n          name='email'\r\n          component={Input}\r\n          validate={[required]}\r\n          type='text'\r\n          placeholder='login'\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor='password'>password:</label>\r\n        <Field\r\n          name='password'\r\n          component={Input}\r\n          validate={[required]}\r\n          type='password'\r\n          placeholder='password'\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field name='rememberMy' component={Input} type='checkbox' />\r\n        remember me\r\n      </div>\r\n      \r\n        {props.error && (\r\n          <div className={s.commonErrorLoginForm}>{props.error}</div>\r\n        )}\r\n\r\n        {props.captchaURL && (\r\n            <img src={props.captchaURL} />\r\n        )}\r\n        {\r\n         props.captchaURL && <Field\r\n         name='captcha'\r\n         component={Input}\r\n         validate={[required]}\r\n         type='text'\r\n         placeholder='symbols'\r\n       />\r\n        }\r\n      \r\n      <button>Log in</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nconst mapState = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  captchaURL: state.auth.captchaURL,\r\n});\r\nexport default connect(mapState, { login })(Login);\r\n","import React, { Suspense } from 'react';\r\n\r\n\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) => {\r\n        return (\r\n            <>\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n            </Suspense>\r\n            </>\r\n        )\r\n    };\r\n};\r\n\r\nexport default withSuspense;\r\n\r\n","import React, { Suspense } from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './Components/Header/HeaderContainer';\r\nimport NavBar from './Components/NavBar/NavBar';\r\nimport ProfilecontainerConnect from './Components/Profile/Profile';\r\nimport { Redirect, Route, withRouter } from 'react-router-dom';\r\nimport News from './Components/News/News';\r\nimport Settings from './Components/Settings/Settings';\r\nimport DialogsContainer from './Components/Dialogs/DialogsContainer';\r\nimport Login from './Components/Login/login';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { initApp, unhandledErrorThunk } from './Redux/app-reducer';\r\nimport Preloader from './Components/Common/Preloader/preloader';\r\nimport withSuspense from './Components/hoc/withSuspense';\r\nconst UsersContainerConnect = React.lazy(() => import('./Components/Users/UsersContainerConnect'));\r\n\r\nclass App extends React.Component {\r\n\r\n  catchAllUnhandledErrors = (e) => {\r\n    debugger\r\n    this.props.unhandledErrorThunk(e.reason.message) \r\n    console.warn(`UNHANDLED PROMISE REJECTION: ${e.reason.message}`);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.initApp();\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader/>\r\n    }\r\n  return (\r\n    <div className='app-wrapper'>\r\n      {\r\n        this.props.unhandledError && <div className='error'>\r\n        <span>{this.props.unhandledError}</span>\r\n      </div>\r\n      }\r\n      \r\n      <HeaderContainer />\r\n      <NavBar />\r\n      <div className='app-wrapper-content'>\r\n        \r\n        <Route path='/profile/:userId?'\r\n          render={() => <ProfilecontainerConnect />}\r\n        />\r\n        <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n        <Route path='/news' component={News} />\r\n        <Route path='/settings' component={Settings} />\r\n        <Route path='/users' render={withSuspense(UsersContainerConnect)} />\r\n        <Route path='/login' render={() => <Login/>}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n}\r\nconst mapState = (state) => ({\r\n  initialized: state.app.initialized,\r\n  unhandledError: state.app.unhandledError\r\n})\r\n\r\nexport default compose(withRouter, connect(mapState, {initApp, unhandledErrorThunk}))(App);\r\n// compose applays hocs to the component.\r\n//hoc - function(!) taking one component and returning\r\n// container component around that one component ","import React from 'react';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from \"./Redux/redux-store\";\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n// Provider makes context with store for connect()()\r\n    ReactDOM.render(\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n        </HashRouter>,\r\n        document.getElementById('root')\r\n    )\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"renderedField_error__2NFiy\",\"formControl\":\"renderedField_formControl__33Isg\",\"commonErrorLoginForm\":\"renderedField_commonErrorLoginForm__2SOzD\"};","import React from \"react\";\r\nimport s from \"./Preloader.module.css\";\r\n\r\nconst Preloader = (props) => {\r\n\r\n    return <div className={ props.loading ? s.ldsRing : ''}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__i65PG\",\"txt\":\"Header_txt__26Ftj\",\"loginBlock\":\"Header_loginBlock__1Wy3U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileblock\":\"MyPosts_profileblock__zXbqs\",\"btn\":\"MyPosts_btn__2BaAE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"Post_ava__3nNMc\",\"item\":\"Post_item__rsn-Y\",\"post\":\"Post_post__PlICp\"};"],"sourceRoot":""}