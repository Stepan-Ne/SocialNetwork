(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{105:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return f})),a.d(t,"e",(function(){return E})),a.d(t,"b",(function(){return p}));var n=a(44),r=a.n(n),o=a(68),l=a(26),c=a(4),i=a(13),s={users:[],currentPage:1,totalUsersCount:0,pageSize:15,loading:!1,usersIdfollowingProgress:[]},u=function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},m=function(e){return{type:"IS_FETCHING",loading:e}},d=function(e,t){return{type:"FOLLOWING_PROGRESS",userFollowingProgressId:e,isFetching:t}},f=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(m(!0)),n(u(e)),a.next=4,i.c.getUsers(e,t);case 4:o=a.sent,n(m(!1)),n({type:"SET_TOTAL_USERS_COUNT",totalUsers:o.data.totalCount}),n({type:"SET_USERS",users:o.data.items});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(e){return function(t){t(d(e,!0)),i.c.deleteUsers(e).then((function(a){t(d(e,!1)),0===a.data.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e))}))}},p=function(e){return function(t){t(d(e,!0)),i.c.postUsers(e).then((function(a){t(d(e,!1)),0===a.data.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(c.a)(Object(c.a)({},e),{},{users:Object(l.a)(t.users)});case"SET_CURRENT_PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.pageNumber});case"SET_TOTAL_USERS_COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsers});case"IS_FETCHING":return Object(c.a)(Object(c.a)({},e),{},{loading:t.loading});case"FOLLOWING_PROGRESS":return Object(c.a)(Object(c.a)({},e),{},{usersIdfollowingProgress:t.isFetching?[].concat(Object(l.a)(e.usersIdfollowingProgress),[t.userFollowingProgressId]):e.usersIdfollowingProgress.filter((function(e){return e!==t.userFollowingProgressId}))});default:return e}}},117:function(e,t){e.exports="data:image/png;base64,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"},13:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(131),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"16b61340-e1d0-42ea-b3ed-4d908888b3c3"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t))},deleteUsers:function(e){return r.delete("follow/".concat(e))},postUsers:function(e){return r.post("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please, use profileAPI.getProfile"),c.getProfile(e)},authMe:function(){return r.get("auth/me")}},l={authMe:function(){return r.get("auth/me")},logIn:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logOut:function(){return r.delete("auth/login")},getCaptcha:function(){return r.get("/security/get-captcha-url")}},c={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status/",{status:e})},updateImage:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveContacts:function(e){return r.put("profile",e)}}},135:function(e,t,a){e.exports={profile:"Profile_profile__1lLBi"}},136:function(e,t,a){e.exports={ldsRing:"Preloader_ldsRing__sPjXh"}},137:function(e,t,a){e.exports={item:"News_item__3BIkM"}},138:function(e,t,a){e.exports={item:"Settings_item__3a7kr"}},164:function(e,t,a){e.exports=a(291)},166:function(e,t,a){},19:function(e,t,a){e.exports={navbar:"NavBar_navbar__AQLZB",itemMenu:"NavBar_itemMenu__xvkU9",active:"NavBar_active__lyEj4"}},21:function(e,t,a){e.exports={profile:"ProfileInfo_profile__2euYl",status:"ProfileInfo_status__1oQaa",contactForm:"ProfileInfo_contactForm__q-n79",error:"ProfileInfo_error__3ObK3"}},22:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__2NO6n",dialogsItems:"Dialogs_dialogsItems__4Huw3",messages:"Dialogs_messages__1SFLr",dialog:"Dialogs_dialog__30Fg2",textarea:"Dialogs_textarea__1RD2T",sendMessage:"Dialogs_sendMessage__1f5M9"}},249:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);a(166),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(7),l=a(26),c=a(4),i=a(25),s=a(13),u={postData:[{id:1,message:"How are you?",likesCount:"12"},{id:2,message:"See you!",likesCount:"8"},{id:3,message:"Hello!",likesCount:"1"}],profile:null,status:""},m=function(e){return function(t){s.c.getProfile(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(c.a)(Object(c.a)({},e),{},{postData:[].concat(Object(l.a)(e.postData),[{id:Date.now(),message:t.newPostText,likesCount:0}])});case"DELETE_POST":return Object(c.a)(Object(c.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});case"SET_USER_PROFILE":return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case"SET_STATUS":case"UPDATE_MY_STATUS":return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case"UPDATE_MY_IMAGE":return Object(c.a)(Object(c.a)({},e),{},{profile:Object(c.a)(Object(c.a)({},e.profile),{},{photos:t.photos})});default:return e}},f={dialogsData:[{id:1,name:"Luba"},{id:2,name:"Olga"},{id:3,name:"Nicholas"}],messagesData:[{id:1,message:"Hi there!"},{id:2,message:"How are you?"},{id:3,message:"Hello everybody!"}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var a=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messagesData:[].concat(Object(l.a)(e.messagesData),[{id:Date.now(),message:a}])});default:return e}},p={},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e},h=a(105),b=a(44),v=a.n(b),O=a(68),A={id:null,email:null,login:null,isAuth:!1,captchaURL:null},y=function(e,t,a,n){return{type:"SET_USER_DATA",data:{id:e,email:t,login:a,isAuth:n}}},S=function(){return function(e){return s.a.authMe().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,o=a.login;e(y(n,r,o,!0))}}))}},j=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getCaptcha();case 2:a=e.sent,t({type:"CAPTCHA_URL",data:{captchaURL:a.data.url}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"CAPTCHA_URL":return Object(c.a)(Object(c.a)({},e),t.data);default:return e}},P=a(132),N=a(130),I={initialized:!1,unhandledError:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{initialized:!0});case"ON_ERROR":return Object(c.a)(Object(c.a)({},e),{},{unhandledError:t.textError});case"OFF_ERROR":return Object(c.a)(Object(c.a)({},e),{},{unhandledError:null});default:return e}},M=Object(o.c)({profilePage:d,dialogsPage:E,sidebar:g,usersPage:h.a,auth:C,form:N.a,app:w}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,k=Object(o.e)(M,R(Object(o.a)(P.a)));window.__store__=k;var D=k,x=a(64),F=a.n(x),T=a(11),L=a(29),U=a(30),_=a(32),G=a(31),J=(a(249),a(10)),q=a(70),B=a.n(q),H=function(e){return r.a.createElement("div",{className:B.a.header},r.a.createElement("img",{alt:"logo"}),r.a.createElement("div",{className:B.a.txt},"Header"),r.a.createElement("div",{className:B.a.loginBlock},r.a.createElement("div",null,e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"log out")):r.a.createElement(T.b,{to:"/login"}," Login "))))},Q=function(e){Object(_.a)(a,e);var t=Object(G.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return r.a.createElement(H,this.props)}}]),a}(r.a.Component),Y=Object(J.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{setAuthUserData:S,logout:function(){return function(e){s.a.logOut().then((function(t){0===t.data.resultCode&&e(y(null,null,null,!1))}))}}})(Q),V=a(19),W=a.n(V),z=function(){return r.a.createElement("div",{className:W.a.navbar},r.a.createElement("div",{className:W.a.itemMenu},r.a.createElement("div",{className:W.a.item},r.a.createElement(T.b,{to:"/profile",activeClassName:W.a.active},"Profile")),r.a.createElement("div",{className:W.a.item},r.a.createElement(T.b,{to:"/dialogs",activeClassName:W.a.active},"Messages")),r.a.createElement("div",{className:W.a.item},r.a.createElement(T.b,{to:"/news",activeClassName:W.a.active},"News")),r.a.createElement("div",{className:W.a.item},r.a.createElement(T.b,{to:"/settings",activeClassName:W.a.active},"Settings")),r.a.createElement("div",null,r.a.createElement(T.b,{to:"/users",activeClassName:W.a.active},"Users"))))},K=a(135),Z=a.n(K),X=a(38),$=a(50),ee=a(21),te=a.n(ee),ae=a(65),ne=function(e){var t=Object(n.useState)(!1),a=Object($.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(e.status),i=Object($.a)(c,2),s=i[0],u=i[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return r.a.createElement("div",null,r.a.createElement("div",null,!o&&r.a.createElement("span",{onDoubleClick:function(){return l(!0)},className:te.a.status},"Status: ",e.status)),r.a.createElement("div",null,o&&r.a.createElement("input",{onBlur:function(){l(!1),e.updateStatus(s)},autoFocus:!0,type:"text",onChange:function(e){return u(e.currentTarget.value)},value:s})))},re=a(117),oe=a.n(re),le=a(128),ce=a(129),ie=a(54),se=a.n(ie),ue=function(e){var t=e.meta,a=Object(X.a)(e,["meta"]);return r.a.createElement("div",{className:t.touched&&t.error?se.a.formControl:""},a.label&&r.a.createElement("label",null,a.label),a.children,r.a.createElement("div",null,t.touched&&t.error&&r.a.createElement("span",{className:se.a.error},t.error)))},me=function(e){var t=e.input,a=Object(X.a)(e,["input"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,e,r.a.createElement("textarea",Object.assign({},t,{placeholder:a.label},a))))},de=function(e){var t=e.input,a=e.type,n=e.restProps;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,e,r.a.createElement("input",Object.assign({},t,{type:a},n))))},fe=function(e){return e?void 0:"Required"},Ee=function(e){var t=e.input,a=e.label,n=e.meta,o=e.type;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({},t,{placeholder:a,type:o})),n.touched&&n.error&&r.a.createElement("span",{className:te.a.error},n.error)))},pe=function(e){var t=e.input,a=e.label,n=e.meta,o=e.type;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,{placeholder:a,type:o})),n.touched&&n.error&&r.a.createElement("span",{className:te.a.error},n.error)))},ge=function(e){var t=e.input,a=e.label,n=e.meta,o=e.type;return r.a.createElement("div",null,r.a.createElement("label",null,a,": "),r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,{placeholder:a,type:o})),n.touched&&n.error&&r.a.createElement("span",{className:te.a.error},n.error)))},he=Object(ce.a)({form:"contacts"})((function(e){var t=e.contacts,a=(e.lookingForAJob,e.aboutMe,e.handleSubmit),n=e.error;Object(X.a)(e,["contacts","lookingForAJob","aboutMe","handleSubmit","error"]);return r.a.createElement("form",{onSubmit:a,className:te.a.contactForm},n&&r.a.createElement("div",{className:te.a.error},n),r.a.createElement(le.a,{label:"Full name: ",name:"fullName",validate:[fe],component:ge,type:"text"}),r.a.createElement("div",null,r.a.createElement(le.a,{label:"About me: ",name:"aboutMe",validate:[fe],component:Ee,type:"text"})),r.a.createElement("div",null,r.a.createElement(le.a,{label:"Looking for a job: ",name:"lookingForAJob",validate:[],component:pe,type:"checkbox"})),r.a.createElement("div",null,r.a.createElement(le.a,{label:"My skills: ",name:"lookingForAJobDescription",validate:[],component:Ee,type:"text"})),Object.keys(t).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(le.a,{label:e,name:"contacts."+e,validate:[],component:ge,type:"text"}))})),r.a.createElement("button",{type:"submit"},"Submit"))})),be=function(e){var t=e.contacts,a=e.lookingForAJob,n=e.fullName,o=e.aboutMe,l=e.edit;Object(X.a)(e,["contacts","lookingForAJob","fullName","aboutMe","edit"]);return r.a.createElement("div",{className:te.a.contactForm},r.a.createElement("button",{onClick:l},"Edit"),r.a.createElement("div",null,r.a.createElement("b",null,"Full name"),": ",n),r.a.createElement("div",null,r.a.createElement("b",null,"aboutMe:")," ",o),r.a.createElement("div",null,r.a.createElement("b",null,"lookingForAJob:")," ",a?"yes":"no"),t&&Object.keys(t).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("b",null,e,":")," ",t[e])})))},ve=function(e){var t=Object(n.useState)(!1),a=Object($.a)(t,2),o=a[0],l=a[1];return e.profile?r.a.createElement("div",{className:te.a.profile},r.a.createElement("div",null,r.a.createElement("img",{src:e.profile.photos.large||oe.a,alt:"profile"})),r.a.createElement("div",null,e.isOwner&&r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.setImageProfile(t.target.files[0])}})),r.a.createElement("div",null,r.a.createElement("p",null,"Name: ",e.profile.fullName)),r.a.createElement(ne,{status:e.status,updateStatus:e.updateStatus}),o?r.a.createElement(he,Object.assign({initialValues:e.profile,onSubmit:function(t){e.setContacts(t).then((function(){l(!1)}))}},e.profile)):r.a.createElement(be,Object.assign({edit:function(){return l(!0)}},e.profile))):r.a.createElement(ae.a,{loading:!0})},Oe=a(72),Ae=a.n(Oe),ye=a(73),Se=a.n(ye),je=function(e){return r.a.createElement("div",{className:Se.a.item},r.a.createElement("div",{className:Se.a.ava}),r.a.createElement("div",{className:Se.a.post},r.a.createElement("p",null,e.message)),r.a.createElement("div",null,r.a.createElement("button",null,"like"),r.a.createElement("span",null,e.likesCount)))},Ce=function(e){return e?void 0:"Reqiured"},Pe=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}},Ne=Pe(10),Ie=Object(ce.a)({form:"myPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(le.a,{name:"newPostText",component:me,validate:[Ce,Ne]}),r.a.createElement("div",{className:Ae.a.btn},r.a.createElement("button",null,"Add Post")))})),we=function(e){var t=Object(l.a)(e.postData).reverse().map((function(e){return r.a.createElement(je,{message:e.message,key:e.id,likesCount:e.likesCount})}));return r.a.createElement("div",null,r.a.createElement("div",{className:Ae.a.profileblock},r.a.createElement("h3",null,"My Posts"),r.a.createElement(Ie,{onSubmit:function(t){e.addPostAC(t.newPostText)}})),r.a.createElement("div",{className:Ae.a.posts},t))},Me=Object(J.b)((function(e){return{postData:e.profilePage.postData}}),{addPostAC:function(e){return{type:"ADD-POST",newPostText:e}}})(we),Re=a(9),ke=function(e){Object(_.a)(a,e);var t=Object(G.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfile(e),this.props.setStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement("div",{className:Z.a.profile},r.a.createElement(ve,Object.assign({},this.props,{isOwner:!this.props.match.params.userId})),r.a.createElement(Me,null))}}]),a}(r.a.Component),De={setUserProfile:m,setStatus:function(e){return function(t){s.b.getStatus(e).then((function(e){t({type:"SET_STATUS",status:e.data})}))}},updateStatus:function(e){return function(t){s.b.updateStatus(e).then((function(a){0===a.data.resultCode&&t(function(e){return{type:"UPDATE_MY_STATUS",status:e}}(e))}))}},setImageProfile:function(e){return function(t){s.b.updateImage(e).then((function(e){0===e.data.resultCode&&t({type:"UPDATE_MY_IMAGE",photos:e.data.data.photos})}))}},setContacts:function(e){return function(t,a){var n=a().auth.id;return s.b.saveContacts(e).then((function(e){if(0!==e.data.resultCode){var a=e.data.messages.length>0?e.data.messages[0]:"Some error";return t(Object(i.a)("contacts",{_error:a})),Promise.reject()}t(m(n))}))}}},xe=Object(o.d)(Re.f,Object(J.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.id}}),De))(ke),Fe=a(137),Te=a.n(Fe),Le=function(e){return r.a.createElement("div",{className:Te.a.item},"News")},Ue=a(138),_e=a.n(Ue),Ge=function(){return r.a.createElement("div",{className:_e.a.item},"Settings")},Je=a(22),qe=a.n(Je),Be=function(e){return r.a.createElement("div",{className:qe.a.dialog},r.a.createElement(T.b,{to:"/dialogs/"+e.id},e.name))},He=function(e){return r.a.createElement("div",{className:qe.a.item},e.message)},Qe=Pe(15),Ye=Object(ce.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:qe.a.textarea},r.a.createElement(le.a,{name:"newMessageBody",component:me,validate:[Ce,Qe],label:"Enter your message"})),r.a.createElement("div",{className:qe.a.sendMessage},r.a.createElement("button",null,"Send Message")))})),Ve=function(e){var t=e.dialogsPage,a=t.dialogsData.map((function(e){return r.a.createElement(Be,{name:e.name,key:e.id,id:e.id})})),n=t.messagesData.map((function(e){return r.a.createElement(He,{key:e.id,message:e.message})}));return r.a.createElement("div",{className:qe.a.dialogs},r.a.createElement("div",{className:qe.a.dialogsItems},a),r.a.createElement("div",{className:qe.a.messages},n),r.a.createElement("div",{className:qe.a.sendMessageBlock},r.a.createElement(Ye,{onSubmit:function(t){e.sendMessageAC(t.newMessageBody)}})))},We=function(e){return{isAuth:e.auth.isAuth}},ze=function(e){var t=function(t){Object(_.a)(n,t);var a=Object(G.a)(n);function n(){return Object(L.a)(this,n),a.apply(this,arguments)}return Object(U.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(Re.a,{to:"/login"})}}]),n}(r.a.Component);return Object(J.b)(We)(t)},Ke=Object(o.d)(Object(J.b)((function(e){return{dialogsPage:e.dialogsPage}}),{sendMessageAC:function(e){return{type:"ADD-MESSAGE",newMessageBody:e}}}),ze)(Ve),Ze=Object(ce.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"login:"),r.a.createElement(le.a,{name:"email",component:de,validate:[Ce],type:"text",placeholder:"login"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"password:"),r.a.createElement(le.a,{name:"password",component:de,validate:[Ce],type:"password",placeholder:"password"})),r.a.createElement("div",null,r.a.createElement(le.a,{name:"rememberMy",component:de,type:"checkbox"}),"remember me"),e.error&&r.a.createElement("div",{className:se.a.commonErrorLoginForm},e.error),e.captchaURL&&r.a.createElement("img",{src:e.captchaURL}),e.captchaURL&&r.a.createElement(le.a,{name:"captcha",component:de,validate:[Ce],type:"text",placeholder:"symbols"}),r.a.createElement("button",null,"Log in"))})),Xe=Object(J.b)((function(e){return{isAuth:e.auth.isAuth,captchaURL:e.auth.captchaURL}}),{login:function(e,t,a,n){return function(r){s.a.logIn(e,t,a,n).then((function(e){if(0===e.data.resultCode)s.a.authMe().then((function(e){if(0===e.data.resultCode){var t=e.data.data,a=t.id,n=t.email,o=t.login;r(y(a,n,o,!0))}}));else{10===e.data.resultCode&&r(j());var t=e.data.messages.length>0?e.data.messages[0]:"Some error";r(Object(i.a)("login",{_error:t}))}}))}}})((function(e){return r.a.createElement("div",null,e.isAuth?r.a.createElement(Re.a,{to:"/dialogs"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement(Ze,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaURL:e.captchaURL})))})),$e=function(e){return function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t)))}},et=r.a.lazy((function(){return a.e(3).then(a.bind(null,295))})),tt=function(e){Object(_.a)(a,e);var t=Object(G.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(t){e.props.unhandledErrorThunk(t.reason.message),console.warn("UNHANDLED PROMISE REJECTION: ".concat(t.reason.message))},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.initApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},this.props.unhandledError&&r.a.createElement("div",{className:"error"},r.a.createElement("span",null,this.props.unhandledError)),r.a.createElement(Y,null),r.a.createElement(z,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(Re.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(Re.b,{path:"/dialogs",render:function(){return r.a.createElement(Ke,null)}}),r.a.createElement(Re.b,{path:"/news",component:Le}),r.a.createElement(Re.b,{path:"/settings",component:Ge}),r.a.createElement(Re.b,{path:"/users",render:$e(et)}),r.a.createElement(Re.b,{path:"/login",render:function(){return r.a.createElement(Xe,null)}}))):r.a.createElement(ae.a,null)}}]),a}(r.a.Component),at=Object(o.d)(Re.f,Object(J.b)((function(e){return{initialized:e.app.initialized,unhandledError:e.app.unhandledError}}),{initApp:function(){return function(e){var t=e(S());Promise.all([t]).then((function(){return e({type:"INIT_SUCCESS"})}))}},unhandledErrorThunk:function(e){return function(t){t(function(e){return{type:"ON_ERROR",textError:e}}(e)),setTimeout((function(){t({type:"OFF_ERROR"})}),3e3)}}}))(tt);F.a.render(r.a.createElement(T.a,null,r.a.createElement(J.a,{store:D},r.a.createElement(at,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,a){e.exports={error:"renderedField_error__2NFiy",formControl:"renderedField_formControl__33Isg",commonErrorLoginForm:"renderedField_commonErrorLoginForm__2SOzD"}},65:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(136),l=a.n(o);t.a=function(e){return r.a.createElement("div",{className:e.loading?l.a.ldsRing:""},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},70:function(e,t,a){e.exports={header:"Header_header__i65PG",txt:"Header_txt__26Ftj",loginBlock:"Header_loginBlock__1Wy3U"}},72:function(e,t,a){e.exports={profileblock:"MyPosts_profileblock__zXbqs",btn:"MyPosts_btn__2BaAE"}},73:function(e,t,a){e.exports={ava:"Post_ava__3nNMc",item:"Post_item__rsn-Y",post:"Post_post__PlICp"}}},[[164,1,2]]]);
//# sourceMappingURL=main.1a5365fa.chunk.js.map